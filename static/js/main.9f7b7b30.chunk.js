(this.webpackJsonptractionv2=this.webpackJsonptractionv2||[]).push([[0],{106:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(9),l=n.n(r),o=n(72),c=n(49),d=n(33),u=n(73),m=n(71),s=(n(91),n(17)),g=n(59),f=n(152),E=n(153),b=n(14),h=n(154),p=n(22),v=n.n(p),O=n(43),D=n.n(O),j=n(147),w=n(151),I=n(155),T=n(150),_=n(148),$=n(149),y=n(144),S=n(156);var M=function(e){return i.a.createElement(y.a,{style:{maxWidth:"80%",margin:"0px auto",paddingTop:20}},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},i.a.createElement(I.a,{label:"Title",value:e.title,onChange:function(t){return e.handleTitle(t.target.value)},style:{marginRight:20}}),e.editId?i.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){e.handleTitle(""),e.setId(null),e.toggleEditMeeting()}},"EDIT TODO"):i.a.createElement(S.a,{variant:"contained",onClick:function(){e.toggleAddMeeting(),e.handleTitle("")}},"ADD TODO")),i.a.createElement(j.a,null,i.a.createElement(_.a,null,i.a.createElement($.a,null,i.a.createElement(T.a,null,"ID"),i.a.createElement(T.a,null,"Name"),i.a.createElement(T.a,null,"Created"),i.a.createElement(T.a,null,"Finished"),i.a.createElement(T.a,null,"EDIT"),i.a.createElement(T.a,null,"DELETE"))),i.a.createElement(w.a,null,v.a.map(v.a.sortBy(e.data,["id"],["asc"]),(function(t,n){return i.a.createElement($.a,{key:n,hover:!0,onClick:function(){t.has_finished||(e.setView("todo"),e.setMeetingID(t.id))}},i.a.createElement(T.a,{width:"20%"},t.id),i.a.createElement(T.a,{width:"20%"},t.name),i.a.createElement(T.a,{width:"20%"},D()(t.created_at).format("MMMM Do, h:mm")),i.a.createElement(T.a,{width:"20%"},v.a.toString(t.has_finished)),i.a.createElement(T.a,{width:"10%"},i.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(n){n.preventDefault(),n.stopPropagation(),e.setId(t.id),e.handleTitle(t.name)}},"EDIT")),i.a.createElement(T.a,{width:"10%"},i.a.createElement(S.a,{variant:"contained",color:"secondary",onClick:function(n){n.preventDefault(),n.stopPropagation(),e.toggleDelete({variables:{id:t.id}})}},"DELETE")))})))))};var k=function(e){var t=e.data,n=e.toggleAddTodo,r=e.toggleEditTodo,l=e.toggleDeleteTodo,o=e.setView,c=e.toggleStartMeeting,d=e.toggleStopMeeting,u=Object(a.useState)(""),m=Object(s.a)(u,2),g=m[0],f=m[1],E=Object(a.useState)(null),b=Object(s.a)(E,2),h=b[0],p=b[1];return i.a.createElement(y.a,{style:{position:"relative",maxWidth:"80%",margin:"0px auto",paddingTop:20}},i.a.createElement(S.a,{style:{position:"absolute",left:10,top:20},onClick:function(){return o("meeting")}},"BACK"),t.start_time?i.a.createElement("h2",null,D()(t.start_time).startOf("hour").fromNow()):"",i.a.createElement(S.a,{variant:"contained",onClick:function(){return function(e){e.start_time?(d({variables:{meetingID:e.id}}),o("meeting")):c({variables:{meetingTime:D()().format(),meetingID:e.id}})}(t)}},t.start_time?"END MEETING":"START MEETING"),i.a.createElement("h1",null,"TODO LISTS"),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},i.a.createElement(I.a,{label:"Title",value:g,onChange:function(e){return f(e.target.value)},style:{marginRight:20}}),h?i.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){r({variables:{title:g,todoID:h}}),f(""),p(null)}},"EDIT TODO"):i.a.createElement(S.a,{variant:"contained",onClick:function(){n({variables:{title:g,meetingID:t.id}}),f("")}},"ADD TODO")),i.a.createElement(j.a,null,i.a.createElement(_.a,null,i.a.createElement($.a,null,i.a.createElement(T.a,null,"ID"),i.a.createElement(T.a,null,"Title"),i.a.createElement(T.a,null,"Completed"),i.a.createElement(T.a,null,"EDIT"),i.a.createElement(T.a,null,"DELETE"))),i.a.createElement(w.a,null,v.a.map(v.a.sortBy(t.todos,["id"],["asc"]),(function(e,t){return i.a.createElement($.a,{key:t,hover:!0},i.a.createElement(T.a,{width:"20%"},e.id),i.a.createElement(T.a,{width:"20%"},e.title),i.a.createElement(T.a,{width:"20%"},v.a.toString(e.is_completed)),i.a.createElement(T.a,{width:"10%"},i.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){p(e.id),f(e.title)}},"EDIT")),i.a.createElement(T.a,{width:"10%"},i.a.createElement(S.a,{variant:"contained",color:"secondary",onClick:function(){l({variables:{id:e.id}})}},"DELETE")))})))))},C=n(23),x=n(24),A=n.n(x);function N(){var e=Object(C.a)(["\n    mutation startMeeting ($meetingID: String!) {\n        update_meetings(where: {id: {_eq: $meetingID}}, _set: {has_finished: true}) {\n            affected_rows\n        }\n    }\n"]);return N=function(){return e},e}function q(){var e=Object(C.a)(["\n    mutation startMeeting ($meetingID: String!, $meetingTime: timestamptz!) {\n        update_meetings(where: {id: {_eq: $meetingID}}, _set: {start_time: $meetingTime}) {\n            affected_rows\n        }\n    }\n"]);return q=function(){return e},e}function B(){var e=Object(C.a)(["\n    mutation removeMeeting ($id: String!) {\n        delete_meetings(where: {id: {_eq: $id}}) {\n            affected_rows\n        }\n    }\n"]);return B=function(){return e},e}function L(){var e=Object(C.a)(["\n    mutation toggleTodo ($meetingName: String!, $meetingID: Int!){\n        update_meetings(where: {id: {_eq: $meetingID}}, _set: {name: $meetingName}) {\n            affected_rows\n        }\n    }\n  "]);return L=function(){return e},e}function V(){var e=Object(C.a)(["\n    mutation addMeeting($title: String!, $id: String!) {\n        insert_meetings(objects: {name: $title, id: $id}) {\n            affected_rows\n        }\n    }\n"]);return V=function(){return e},e}function W(){var e=Object(C.a)(["\n    subscription {\n        meetings {\n            id\n            name\n            start_time\n            has_finished\n            created_at\n            todos {\n                id\n                is_completed\n                title\n            }\n        }\n    }\n"]);return W=function(){return e},e}var R=A()(W()),z=A()(V()),G=A()(L()),J=A()(B()),P=A()(q()),F=A()(N());function K(){var e=Object(C.a)(["\n    mutation removeTodo ($id: Int!) {\n        delete_todos(where: {id: {_eq: $id}}) {\n            affected_rows\n        }\n    }\n"]);return K=function(){return e},e}function H(){var e=Object(C.a)(["\n    mutation toggleTodo ($title: String!, $todoID: Int!){\n        update_todos(where: {id: {_eq: $todoID}}, _set: {title: $title}) {\n            affected_rows\n          }\n    }\n  "]);return H=function(){return e},e}function Q(){var e=Object(C.a)(["\n    mutation addTodo($title: String!, $meetingID: String!) {\n        insert_todos(objects: {title: $title, meeting_id: $meetingID}) {\n            affected_rows\n          }\n    }\n"]);return Q=function(){return e},e}var U=A()(Q()),X=A()(H()),Y=A()(K()),Z={meetings:[],selectedMeetingID:null,addMeetings:function(e){Z.meetings=e}},ee=Z,te=Object(g.a)((function(e){var t=Object(g.b)(ee),n=Object(a.useState)(""),r=Object(s.a)(n,2),l=r[0],o=r[1],c=Object(a.useState)("meeting"),d=Object(s.a)(c,2),u=d[0],m=d[1],p=Object(a.useState)(!1),O=Object(s.a)(p,2),D=O[0],j=O[1],w=Object(a.useState)(null),I=Object(s.a)(w,2),T=I[0],_=I[1],$=Object(f.a)(R,{onSubscriptionData:function(e){e.client;var n=e.subscriptionData;t.meetings=Object(b.h)(n.data.meetings),j(!1)}}),y=$.error,S=$.loading,C=Object(E.a)(z,{update:function(e,t){j(!0)},variables:{title:l,id:v.a.toString(Object(b.h)(t.meetings).length+1)}}),x=Object(s.a)(C,1)[0],A=Object(E.a)(G,{update:function(e,t){j(!0)},variables:{meetingName:l,meetingID:T}}),N=Object(s.a)(A,1)[0],q=Object(E.a)(P,{update:function(e,t){j(!0)}}),B=Object(s.a)(q,1)[0],L=Object(E.a)(F,{update:function(e,t){j(!0)}}),V=Object(s.a)(L,1)[0],W=Object(E.a)(J,{update:function(e,t){j(!0)}}),K=Object(s.a)(W,1)[0],H=Object(E.a)(U,{update:function(e,t){j(!0)}}),Q=Object(s.a)(H,1)[0],Z=Object(E.a)(X,{update:function(e,t){j(!0)}}),te=Object(s.a)(Z,1)[0],ne=Object(E.a)(Y,{update:function(e,t){j(!0)}}),ae=Object(s.a)(ne,1)[0];return y?"Error! ".concat(y.message):i.a.createElement("div",null,S||D?i.a.createElement("div",{style:{height:"100%",width:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",zIndex:99}},i.a.createElement(h.a,null)):"","meeting"===u?i.a.createElement(M,{data:Object(b.h)(t.meetings),setId:_,editId:T,toggleEditMeeting:N,toggleDelete:K,toggleAddMeeting:x,handleTitle:o,title:l,setView:m,setMeetingID:function(e){t.selectedMeetingID=e}}):i.a.createElement(k,{data:v.a.find(Object(b.h)(t.meetings),{id:Object(b.h)(t.selectedMeetingID)}),toggleAddTodo:Q,toggleDeleteTodo:ae,setView:m,toggleEditTodo:te,toggleStartMeeting:B,toggleStopMeeting:V}))}));n(106);var ne=function(e){return i.a.createElement("div",{className:"App"},i.a.createElement(te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=new d.c({link:new m.a({uri:"wss://graphql-be.herokuapp.com/v1/graphql",options:{reconnect:!0}}),cache:new u.a});l.a.render(i.a.createElement(o.a,{client:ae},i.a.createElement(c.a,{client:ae},i.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){e.exports=n(118)},91:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.9f7b7b30.chunk.js.map