(this.webpackJsonptractionv2=this.webpackJsonptractionv2||[]).push([[0],{106:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(9),r=n.n(l),o=n(72),c=n(48),d=n(33),u=n(73),m=n(71),s=(n(91),n(19)),g=n(58),E=n(152),f=n(153),b=n(14),h=n(154),v=n(20),p=n.n(v),O=n(66),D=n.n(O),j=n(147),w=n(151),I=n(155),T=n(150),_=n(148),y=n(149),S=n(144),$=n(156);var k=function(e){return i.a.createElement(S.a,{style:{maxWidth:"80%",margin:"0px auto",paddingTop:20}},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},i.a.createElement(I.a,{label:"Title",value:e.title,onChange:function(t){return e.handleTitle(t.target.value)},style:{marginRight:20}}),e.editId?i.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){e.handleTitle(""),e.setId(null),e.toggleEditMeeting()}},"EDIT TODO"):i.a.createElement($.a,{variant:"contained",onClick:function(){e.toggleAddMeeting(),e.handleTitle("")}},"ADD TODO")),i.a.createElement(j.a,null,i.a.createElement(_.a,null,i.a.createElement(y.a,null,i.a.createElement(T.a,null,"ID"),i.a.createElement(T.a,null,"Name"),i.a.createElement(T.a,null,"Created"),i.a.createElement(T.a,null,"Started"),i.a.createElement(T.a,null,"Finished"),i.a.createElement(T.a,null,"EDIT"),i.a.createElement(T.a,null,"DELETE"))),i.a.createElement(w.a,null,p.a.map(p.a.sortBy(e.data,["id"],["asc"]),(function(t,n){return i.a.createElement(y.a,{key:n,hover:!0,onClick:function(){e.setView("todo"),e.setMeetingID(t.id)}},i.a.createElement(T.a,{width:"20%"},t.id),i.a.createElement(T.a,{width:"20%"},t.name),i.a.createElement(T.a,{width:"20%"},D()(t.created_at).format("MMMM Do, h:mm")),i.a.createElement(T.a,{width:"20%"},p.a.toString(t.has_started)),i.a.createElement(T.a,{width:"20%"},p.a.toString(t.has_finished)),i.a.createElement(T.a,{width:"10%"},i.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(n){n.preventDefault(),n.stopPropagation(),e.setId(t.id),e.handleTitle(t.name)}},"EDIT")),i.a.createElement(T.a,{width:"10%"},i.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(n){n.preventDefault(),n.stopPropagation(),e.toggleDelete({variables:{id:t.id}})}},"DELETE")))})))))};var C=function(e){var t=e.data,n=e.toggleAddTodo,l=e.toggleEditTodo,r=e.toggleDeleteTodo,o=e.setView,c=Object(a.useState)(""),d=Object(s.a)(c,2),u=d[0],m=d[1],g=Object(a.useState)(null),E=Object(s.a)(g,2),f=E[0],b=E[1];return i.a.createElement(S.a,{style:{position:"relative",maxWidth:"80%",margin:"0px auto",paddingTop:20}},i.a.createElement($.a,{style:{position:"absolute",left:10,top:20},onClick:function(){return o("meeting")}},"BACK"),i.a.createElement("h1",null,"TODO LISTS"),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},i.a.createElement(I.a,{label:"Title",value:u,onChange:function(e){return m(e.target.value)},style:{marginRight:20}}),f?i.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){l({variables:{title:u,todoID:f}}),m(""),b(null)}},"EDIT TODO"):i.a.createElement($.a,{variant:"contained",onClick:function(){n({variables:{title:u,meetingID:t.id}}),m("")}},"ADD TODO")),i.a.createElement(j.a,null,i.a.createElement(_.a,null,i.a.createElement(y.a,null,i.a.createElement(T.a,null,"ID"),i.a.createElement(T.a,null,"Title"),i.a.createElement(T.a,null,"Completed"),i.a.createElement(T.a,null,"EDIT"),i.a.createElement(T.a,null,"DELETE"))),i.a.createElement(w.a,null,p.a.map(p.a.sortBy(t.todos,["id"],["asc"]),(function(e,t){return i.a.createElement(y.a,{key:t,hover:!0},i.a.createElement(T.a,{width:"20%"},e.id),i.a.createElement(T.a,{width:"20%"},e.title),i.a.createElement(T.a,{width:"20%"},p.a.toString(e.is_completed)),i.a.createElement(T.a,{width:"10%"},i.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){b(e.id),m(e.title)}},"EDIT")),i.a.createElement(T.a,{width:"10%"},i.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(){r({variables:{id:e.id}})}},"DELETE")))})))))},M=n(24),x=n(25),A=n.n(x);function q(){var e=Object(M.a)(["\n    mutation removeMeeting ($id: String!) {\n        delete_meetings(where: {id: {_eq: $id}}) {\n            affected_rows\n        }\n    }\n"]);return q=function(){return e},e}function B(){var e=Object(M.a)(["\n    mutation toggleTodo ($meetingName: String!, $meetingID: Int!){\n        update_meetings(where: {id: {_eq: $meetingID}}, _set: {name: $meetingName}) {\n            affected_rows\n        }\n    }\n  "]);return B=function(){return e},e}function L(){var e=Object(M.a)(["\n    mutation addMeeting($title: String!, $id: String!) {\n        insert_meetings(objects: {name: $title, id: $id}) {\n            affected_rows\n        }\n    }\n"]);return L=function(){return e},e}function N(){var e=Object(M.a)(["\n    subscription {\n        meetings {\n            id\n            name\n            has_started\n            has_finished\n            created_at\n            todos {\n                id\n                is_completed\n                title\n            }\n        }\n    }\n"]);return N=function(){return e},e}var V=A()(N()),W=A()(L()),J=A()(B()),P=A()(q());function R(){var e=Object(M.a)(["\n    mutation removeTodo ($id: Int!) {\n        delete_todos(where: {id: {_eq: $id}}) {\n            affected_rows\n        }\n    }\n"]);return R=function(){return e},e}function z(){var e=Object(M.a)(["\n    mutation toggleTodo ($title: String!, $todoID: Int!){\n        update_todos(where: {id: {_eq: $todoID}}, _set: {title: $title}) {\n            affected_rows\n          }\n    }\n  "]);return z=function(){return e},e}function F(){var e=Object(M.a)(["\n    mutation addTodo($title: String!, $meetingID: String!) {\n        insert_todos(objects: {title: $title, meeting_id: $meetingID}) {\n            affected_rows\n          }\n    }\n"]);return F=function(){return e},e}var K=A()(F()),G=A()(z()),H=A()(R()),Q={meetings:[],selectedMeetingID:null,addMeetings:function(e){Q.meetings=e}},U=Q,X=Object(g.a)((function(e){var t=Object(g.b)(U),n=Object(a.useState)(""),l=Object(s.a)(n,2),r=l[0],o=l[1],c=Object(a.useState)("meeting"),d=Object(s.a)(c,2),u=d[0],m=d[1],v=Object(a.useState)(!1),O=Object(s.a)(v,2),D=O[0],j=O[1],w=Object(a.useState)(null),I=Object(s.a)(w,2),T=I[0],_=I[1],y=Object(E.a)(V,{onSubscriptionData:function(e){e.client;var n=e.subscriptionData;t.meetings=Object(b.h)(n.data.meetings),j(!1)}}),S=y.error,$=y.loading,M=Object(f.a)(W,{update:function(e,t){j(!0)},variables:{title:r,id:p.a.toString(Object(b.h)(t.meetings).length+1)}}),x=Object(s.a)(M,1)[0],A=Object(f.a)(J,{update:function(e,t){j(!0)},variables:{meetingName:r,meetingID:T}}),q=Object(s.a)(A,1)[0],B=Object(f.a)(P,{update:function(e,t){j(!0)}}),L=Object(s.a)(B,1)[0],N=Object(f.a)(K,{update:function(e,t){j(!0)}}),R=Object(s.a)(N,1)[0],z=Object(f.a)(G,{update:function(e,t){j(!0)}}),F=Object(s.a)(z,1)[0],Q=Object(f.a)(H,{update:function(e,t){j(!0)}}),X=Object(s.a)(Q,1)[0];return S?"Error! ".concat(S.message):i.a.createElement("div",null,$||D?i.a.createElement("div",{style:{height:"100%",width:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",zIndex:99}},i.a.createElement(h.a,null)):"","meeting"===u?i.a.createElement(k,{data:Object(b.h)(t.meetings),setId:_,editId:T,toggleEditMeeting:q,toggleDelete:L,toggleAddMeeting:x,handleTitle:o,title:r,setView:m,setMeetingID:function(e){t.selectedMeetingID=e}}):i.a.createElement(C,{data:p.a.find(Object(b.h)(t.meetings),{id:Object(b.h)(t.selectedMeetingID)}),toggleAddTodo:R,toggleDeleteTodo:X,setView:m,toggleEditTodo:F}))}));n(106);var Y=function(e){return i.a.createElement("div",{className:"App"},i.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=new d.c({link:new m.a({uri:"wss://graphql-be.herokuapp.com/v1/graphql",options:{reconnect:!0}}),cache:new u.a});r.a.render(i.a.createElement(o.a,{client:Z},i.a.createElement(c.a,{client:Z},i.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){e.exports=n(118)},91:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.b36a1b85.chunk.js.map